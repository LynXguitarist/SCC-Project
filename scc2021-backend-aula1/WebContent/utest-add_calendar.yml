config:
  target: http://localhost:8080/rest
  plugins:
    metrics-by-endpoint: {
      }
    expect: {
      }
  processor: ../test-utils.js
  variables:
    metricsProcessEndpoint: myProcessEndpoint
  phases:
  - duration: 30
    arrivalCount: 30
    name: "Upload calendar"
  - duration: 30
    arrivalCount: 30
    name: "Get Calendars By EntityId"
scenarios:
- name: Upload calendar
  weight: 1
  flow:
  - post:
      url: /calendar
      headers:
        Accept: application/json
      json:
        name: "{{ name1 }}"
        description: "{{ description1 }}"
        ownerId: "1a84b54d-3342-4dbd-8552-b6fcb840358c"
      capture:
        json: $.id
        as: calendarId
      expect:
      - statusCode: 204
- name: Get Calendars By EntityId
  weight: 1
  flow:
    - get:
        url: "/calendar/entities/1a84b54d-3342-4dbd-8552-b6fcb840358c"
        expect:
          statusCode: 204